; ====================
; Difficulty Constants
; ====================

#load-if-designed DIFFICULTY-EASIEST
#load-if-designed DIFFICULTY-EASY
#load-if-designed DIFFICULTY-MEDIUM
#load-if-designed DIFFICULTY-HARD
#load-if-designed DIFFICULTY-HARDEST

; ====================
; Hun Civilization AI
; ====================

; Define Basic Aggression Strategy for the Huns
(defrule
    (true)
=>
    (set-strategic-number sn-focus-mounted-units 80) ; Focus on Cavalry
    (set-strategic-number sn-max-villagers 60)       ; Maintain a larger economy
    (set-strategic-number sn-minimum-harvesters 35)  ; Keep enough villagers working
)

; ====================
; Difficulty Scaling
; ====================

; Easiest: Minimal aggression, slow build-up
(defrule
    (DIFFICULTY-EASIEST)
=>
    (set-strategic-number sn-minimum-harvesters 20)
    (set-strategic-number sn-percent-civilian-builders 50)
    (set-strategic-number sn-maximum-attack-group-size 15)
    (set-strategic-number sn-focus-mounted-units 50)   ; Cavalry, but not heavily
)

; Easy: Slightly faster, minimal tactics
(defrule
    (DIFFICULTY-EASY)
=>
    (set-strategic-number sn-minimum-harvesters 25)
    (set-strategic-number sn-percent-civilian-builders 40)
    (set-strategic-number sn-maximum-attack-group-size 20)
    (set-strategic-number sn-focus-mounted-units 65)   ; Increased cavalry focus
)

; Moderate: Balanced aggression and defense
(defrule
    (DIFFICULTY-MEDIUM)
=>
    (set-strategic-number sn-minimum-harvesters 30)
    (set-strategic-number sn-percent-civilian-builders 30)
    (set-strategic-number sn-maximum-attack-group-size 30)
    (set-strategic-number sn-focus-mounted-units 80)   ; Heavy cavalry focus
)

; Hard: Aggressive attacks, smart economy
(defrule
    (DIFFICULTY-HARD)
=>
    (set-strategic-number sn-minimum-harvesters 35)
    (set-strategic-number sn-percent-civilian-builders 25)
    (set-strategic-number sn-maximum-attack-group-size 40)
    (set-strategic-number sn-focus-mounted-units 90)   ; Cavalry strategy
)

; Hardest: Relentless aggression, optimized tactics
(defrule
    (DIFFICULTY-HARDEST)
=>
    (set-strategic-number sn-minimum-harvesters 40)
    (set-strategic-number sn-percent-civilian-builders 20)
    (set-strategic-number sn-maximum-attack-group-size 50)
    (set-strategic-number sn-focus-mounted-units 100)  ; Cavalry-exclusive strategy
)

; ====================
; Aggression Based on Game Time
; ====================
; This will enhance the AI's behavior based on how long the game has been going.

(defrule
    (game-time < 600) ; First 10 minutes
=>
    (set-strategic-number sn-minimum-harvesters 15)
    (set-strategic-number sn-focus-mounted-units 30) ; Very basic
)

(defrule
    (game-time >= 600)
    (game-time < 1200) ; 10-20 minutes
=>
    (set-strategic-number sn-minimum-harvesters 20)
    (set-strategic-number sn-focus-mounted-units 50)
)

(defrule
    (game-time >= 1200)
    (game-time < 1800) ; 20-30 minutes
=>
    (set-strategic-number sn-minimum-harvesters 25)
    (set-strategic-number sn-focus-mounted-units 70)
)

(defrule
    (game-time >= 1800)
    (game-time < 2400) ; 30-40 minutes
=>
    (set-strategic-number sn-minimum-harvesters 30)
    (set-strategic-number sn-focus-mounted-units 80)
)

(defrule
    (game-time >= 2400) ; After 40 minutes
=>
    (set-strategic-number sn-minimum-harvesters 35)
    (set-strategic-number sn-focus-mounted-units 90)
)
