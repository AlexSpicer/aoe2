(defrule
    (true)
=>
    (chat-to-all "I will crush you!")
    (set-strategic-number sn-minimum-harvesters 25) ; Focus on economy
    (set-strategic-number sn-percent-civilian-builders 30) ; Assign builders
    (set-strategic-number sn-maximum-attack-group-size 50) ; Large attack groups
)

; ====================
; Early Game Strategy
; ====================
(defrule
    (true)
    (game-time < 600) ; First 10 minutes
=>
    (chat-to-all "I’m building my economy.")
    (set-strategic-number sn-minimum-harvesters 35)
    (set-strategic-number sn-maximum-food-drop-distance 15) ; Optimize gathering
    (train villager)
    (build lumber-camp)
    (build farm)
)

(defrule
    (game-time < 600)
    (building-type-count <barracks> < 1)
=>
    (build barracks)
)

; ====================
; Military Build-Up
; ====================
(defrule
    (true)
    (game-time >= 600)
=>
    (chat-to-all "Time to prepare my army.")
    (train villager)
    (train militia)
    (train archer)
    (build archery-range)
    (build stable)
)

(defrule
    (building-type-count <archery-range> < 2)
    (can-build archery-range)
=>
    (build archery-range)
)

(defrule
    (building-type-count <stable> < 1)
    (can-build stable)
=>
    (build stable)
)

(defrule
    (can-train knight)
    (gold-amount > 100)
    (food-amount > 60)
=>
    (train knight)
)

; ====================
; Aggression & Attacks
; ====================
(defrule
    (population >= 70)
    (game-time >= 1200)
    (enemy-building-exists)
=>
    (chat-to-all "Your time is up!")
    (attack-now)
)

(defrule
    (enemy-building-exists)
    (population >= 100)
=>
    (attack-now)
)

; Adaptive Attack Distance
(defrule
    (up-close-to-enemy 20) ; Detect enemies within 20 tiles
=>
    (chat-to-all "Enemies are too close!")
    (attack-now)
)

; ====================
; Defense Strategy
; ====================
(defrule
    (enemy-sighted)
    (population < 100)
=>
    (chat-to-all "Defending my base!")
    (train spearman) ; Counter cavalry
    (train archer)
    (build tower)
)

(defrule
    (can-build castle)
    (stone-amount >= 650)
=>
    (chat-to-all "Fortifying my base with a castle!")
    (build castle)
)

; ====================
; Late Game Strategy
; ====================
(defrule
    (game-time >= 2400) ; After 40 minutes
=>
    (chat-to-all "You can’t stop my empire!")
    (set-strategic-number sn-minimum-harvesters 50)
    (train trebuchet)
    (train champion)
    (attack-now)
)

; ====================
; Victory Taunt
; ====================
(defrule
    (enemy-dead)
=>
    (chat-to-all "Victory is mine! Better luck next time.")
)
